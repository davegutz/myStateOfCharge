=~=~=~=~=~=~=~=~=~=~=~= PuTTY log 2023.07.16 14:44:07 =~=~=~=~=~=~=~=~=~=~=~=
v88l99;echo: v88l99, 4
echo: v88l99, 0
sp.debug 0 to 88
[A[B
v99;echo: [A[B
v99, 4
echo: [A[B
v99, 0
 ? 'h'
v99;echo: v99, 4
echo: v99, 0
sp.debug 88 to 99
Tb, Vb, imh, inh | SV, Dc | SA, DA| SB, DB =   26.44deg C  13.619v   5.941A   6.069A |   1.013   0.060v  |    1.000  -0.130A |   1.000   0.440A,
Tb, Vb, imh, inh | SV, Dc | SA, DA| SB, DB =   26.44deg C  13.619v   5.946A   6.065A |   1.013   0.060v  |    1.000  -0.130A |   1.000   0.440A,
Tb, Vb, imh, inh | SV, Dc | SA, DA| SB, DB =   26.44deg C  13.621v   5.947A   6.032A |   1.013   0.060v  |    1.000  -0.130A |   1.000   0.440A,
Tb, Vb, imh, inh | SV, Dc | SA, DA| SB, DB =   26.44deg C  13.619v   5.966A   6.005A |   1.013   0.060v  |    1.000  -0.130A |   1.000   0.440A,
vTb, Vb, imh, inh | SV, Dc | SA, DA| SB, DB =   26.44deg C  13.617v   5.944A   6.046A |   1.013   0.060v  |    1.000  -0.130A |   1.000   0.440A,
0;echo: v0, 4
echo: v0, 0
sp.debug 99 to 0
h;echo: h, 4
echo: h, 0


Help menu.  End entry with ';'.  SRAM='*'.  May omit '='

b<?>   Manage fault buffer
  bd= dump fault buffer
  bh= reset history buffer
  br= reset fault buffer
  bR= reset all buffers

B<?> Battery e.g.:
 *Bm=  0.  Mon chem 0='BB', 1='CH' [0]
 *Bs=  0.  Sim chem 0='BB', 1='CH' [0]
 *BP=  1.00.  parallel in bank [1.00]'
 *BS=  1.00.  series in bank [1.00]'

c  clear talk, esp '-c;'

C<?> Chg SOC e.g.:
  Ca=  all - '(0-1.1)'
  Cm=  model (& ekf if mod)- '(0-1.1)'

D/S<?> Adj e.g.:
 *DA= -0.130: delta amp, A [-0.130]
 *DB=  0.440: delta noa, A [ 0.440]
 *Di=  0.000: delta all, A [ 0.000]
 *DI=  0.000: delta all no reset, A [ 0.000]
 *Dc=  0.060: delta, V [ 0.000]
  DE= 20: eframe mult Dr [20]
  DP=  4: print mult Dr [4]
  Dr=  100: minor frame, ms [100]
  Ds=  0.00: d_soc to Sim.voc-soc, fraction [0]
 *Dt=  0.000: delta hdwe, deg C [ 0.000]
  D^=  0.000: delta model, deg C [ 0.000]
  Dv=  0.00: volt fault inj, V [0]
  Dw=  0.00: Tab adj, V [.01]
  DT=  0.000: noise mod, deg C pk-pk [ 0.000]
  DV=  0.000: noise mod, V pk-pk [ 0.000]
  DM=  0.000: amp noise mod, A pk-pk [ 0.000]
  DN=  0.000: noa noise mod, A pk-pk [ 0.000]
 *SA=  1.000: scale amp [ 1.000]
 *SB=  1.000: scale noa [ 1.000]
 *SG=  1.000/ 1.000: sp. scale shunt gains [1]
 *Sh=  1.000: hys sclr [ 1.00]
  SH=  0.032: hys states [0]
 *Sq=  1.00: sp. Scalar cap sim
 *SQ=  1.00: sp. Scalar cap mon
  Sr=  1.00: Scalar res sim
 *Sk=  1.00: Sat mod ctbk sclr
 *SV=  1.013: scale vb sen [ 1.012]

F<?>   Faults
  Fc=  1.000: sclr cc_diff thr ^ [1]
  Fd=  1.000: sclr ib_diff thr ^ [1]
  Ff= 1: faults faked (ignored)[1]
  Fi=  1.000: sclr e_wrap_hi thr ^ [1]
  Fo=  1.000: sclr e_wrap_lo thr ^ [1]
  Fq=  1.000: sclr ib_quiet thr v [1]
  FI=  0: disab Ib rng
  FT=  0: disab Tb rng
  FV=  0: disab Vb rng

H<?>   Manage history
  Hd= dump summ log
  HR= reset summ log
  Hs= save and print log

P<?>   Print values
  Pa= all
  Pe= ekf
  Pf= faults
  Pm= Mon
  PM= amp shunt
  PN= noa shunt
  Pr= retained and command
  Ps= Sim
  Px= ib select
  Pv= vb details

Q      vital stats

R<?>   Reset
  Rb= batteries to present inputs
  Rf= fault logic latches
  Ri= infinite counter
  Rr= saturate Mon and equalize Sim & Mon
  RR= DEPLOY
  Rs= small.  Reinitialize filters
  RS= SavedPars: Reinitialize saved

s  curr select mode (-1=noa, 0=auto, 1=amp) = 1
 
*U= 1689506208: Unix time [auto when wifi]

v= 0: verbosity, -128 - +128. [4]
  -<>: Negative - Arduino plot compatible
  v-2: ADS counts for throughput meas
   v1: GP
   v2: GP, Sim & Sel
   v3: EKF
   v4: GP, Sim, Sel, & EKF
   v5: OLED display
  v12: EKF
 v-13: ib_dscn
  v14: vshunt and Ib raw
  v15: vb raw
  v16: Tb
 v-23: Vb_hdwe_ac
 v-24: Vb_hdwe_ac, Ib_hdwe
  v75: voc_low check mod
  v76: vb model
  v78: Batt model sat
  v79: sat_ib model
  v99: calibration

V<?> - VOC(SOC) curve deltas
 VM=  0.110: Mon vsoc out, V [0]
 VS=  0.110: Sim vsoc out, V [0]
 Vm=  0.000: Mon soc in [0]
 Vs=  0.000: Sim soc in[0]

W<?> - iters to wait

X<?> - Test Mode.   For example:
 Xd=  0,   dc-dc charger on [0]
 Xm=  0,   modeling bitmap [0b00000000]
      0x128=1<<7 ib_noa_dscn = 0
      0x64 =1<<6 ib_amp_dscn = 0
      0x32 =1<<5 vb_dscn = 0
      0x16 =1<<4 temp_dscn = 0
      0x8  =1<<3 tweak_test = 0
      0x4  =1<<2 current = 0
      0x2  =1<<1 voltage = 0
      0x1  =1<<0 temp = 0
 Xa=  0.000: Inj amp A pk (0-18.3) [0]
 Xb=  0.000: Inj bias A [0]
 Xf=  0.000: Inj freq Hz (0-2) [0]
 Xt=  0: Inj 'n'=none(0) 's'=sin(1) 'q'=square(2) 't'=tri(3) biases(4,5,6) 'o'=cos(8))
 Xp= <?>, scripted tests...
  Xp-1: Off, modeling false
  Xp0: reset tests
  Xp2: -0.4C soft disch, reset xp0 or Di0
  Xp3: +0.4C soft chg
  Xp4: -1C soft disch, reset xp0 or Di0
  Xp5: +1C soft chg
  Xp6: +/-500 A pulse EKF
  Xp7: +/-500 A pulse SS
  Xp10:tweak cycle test
  Xp11:slow cycle test
  Xp12:slow half cycle reg test
  Xp20:collect fast data
  Xp21:collect slow data
 XC=  0.000 cycles inj
 XR  RUN inj
 XS  STOP inj
 Xs= 1.00 scalar on T_SAT
 XW= 2779096.58 s wait start inj
 XT= 2779096.58 s tail end inj
 Xu= 0 T=ignore Tb read
 Xv= 1.00 scale Tb 1-wire stale persist

*Xx<> = SRAM saved

urgency of cmds: -=ASAP,*=SOON, '' or +=QUEUE
v5;echo: v5, 4
echo: v5, 0
sp.debug 0 to 5
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   6.3,  107,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.9,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.7,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   6.3,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.9,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.52,   6.2,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.5,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   6.3,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.59,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   6.0,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.6,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   5.6,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.9,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.7,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.7,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.57,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.6,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   6.2,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   6.0,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.58,   6.1,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   6.1,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   6.4,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.9,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.57,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.9,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.52,   6.3,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.8,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   6.2,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.9,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   6.1,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   6.1,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   6.2,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.52,   6.2,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.57,   5.8,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.52,   6.4,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   6.0,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.9,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.7,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   6.2,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.52,   5.6,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   6.0,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.57,   5.7,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.7,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.57,   6.2,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.5,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   6.2,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   6.2,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.51,   6.1,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.52,   5.3,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.51,   6.1,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.7,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.4,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.9,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.9,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   6.1,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   5.4,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.7,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.8,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.57,   5.6,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.5,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   6.3,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.5,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.8,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.8,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.6,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.6,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   6.0,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.7,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   6.4,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   5.7,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   6.0,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   5.7,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.57,   5.7,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.57,   6.0,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.51,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.52,   6.2,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   6.3,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   6.1,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   6.1,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.6,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.51,   6.7,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   6.0,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   6.1,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.52,   6.2,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.5,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.7,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.7,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.5,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   5.6,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.9,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.6,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.7,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.4,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.57,   5.3,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   6.1,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   6.0,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.57,   5.3,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   5.9,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.7,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.53,   6.1,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.57,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   5.7,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.55,   6.1,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.57,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.54,   5.9,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.52,   6.0,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.52,   5.6,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.56,   5.5,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.52,   6.4,  108, -0.0,108,
v0oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  26, 13.52,   5.8,  108, -0.0,108,
;echo: v0, 4
echo: v0, 0
sp.debug 5 to 0

Pm;echo: Pm, 4
echo: Pm, 0

M:BM::Battery:
  bms_charging 1
  bms_off 0
  c_sd 3.57e+05, farad
  ds_voc_soc  0.000000, frac
  dt  0.100, s
  dv_dsoc 48.346710, V/frac
  dv_dyn  0.074, V
  dv_hys -0.300, V
  dvoc_dt  0.004000, V/dg C
  ib  6.059, A
  r_0  0.011300, ohm
  r_ct  0.001000, ohm
  r_sd 70.000000, ohm
  soc  1.0000
 *sp_delt_q       0.0, C
 *sp_t_last      26.5, dg C
  sr  1.000, sclr
  tau_ct 83.000000, s (=1/R/C)
  tau_sd  2.5e+07, s
  temp_c 26.500, dg C
  vb 13.624, V
  voc 13.550, V
  voc_stat 13.850, V
  voltage_low 0, BMS will turn off
  vsat 13.806, V
 BM::BM:
  ah_ekf_107.576; A-h
  ah_soc_108.101; A-h
  EKF_conv 0;
  dv_hys -0.300; V
  dv_hys_sim  0.032; V
  e_wrap  0.752; V
  q_ekf  394205.6; C
  soc_ekf  0.9952; frac
  tc -0.0; hr
  tc_ekf  0.1; hr
  voc_filt 13.543; V
  voc_soc 14.610; V
  voc_stat 13.850; V
  y_filt  0.008; Res EKF, V
 *sp_s_cap_mon  1.000 Slr
Hysteresis:
  cap    3600.0, F
  disab 0
  dv_dot  0.000, V/s
  dv_hys -0.300, V, SH
  ib  6.059, A
  ibs  6.059, A
  ioc-23.077, A
  res0.0130, null Ohm
  res  0.013, ohm
  slr  1.000,
  soc  1.0000
  sp.hys_scale()  1.00 Slr
  tau      18.0, null, s
Chemistry:
  dqdt  0.010, frac/dg C
  dv_min_abs  0.300, V
  dvoc  0.000, V
  dvoc_dt  0.004, V/dg C
  hys_cap   3600, F
  low_t  0.000, V
  low_voc  9.000, V
  v_sat 13.850, V
  vb_down  9.800, shutoff, V
  vb_down_sim  9.500, shutoff, V
  vb_off 10.000, shutoff, V (unused)
  vb_rising 10.300, turnon, V
  vb_rising_sim  9.750, turnon, V
  ChargeTransfer:
  c_sd 3.57e+05; EKF, farad
  r_0 0.011300, ohm
  r_ct 0.001000, ohm
  r_sd     70, EKF, ohm
  r_ss 0.012300, SS init, ohm
  tau_ct 83.000, s
  tau_sd  2.5e+07; EKF, s
  voc(t, soc):
    y={  5.000,  11.100,  20.000,  30.000,  40.000, };
    x={ -0.150,   0.000,   0.050,   0.100,   0.140,   0.170,   0.200,   0.250,   0.300,   0.400,   0.500,   0.600,   0.700,   0.800,   0.900,   0.990,   0.995,   1.000, };
    v={
      {  4.000,   4.000,   4.000,   4.000,  10.200,  11.700,  12.450,  12.700,  12.770,  12.900,  12.910,  12.980,  13.050,  13.110,  13.170,  13.220,  13.590,  14.450, },
      {  4.000,   4.000,   4.000,   9.500,  12.000,  12.500,  12.700,  12.800,  12.900,  12.960,  13.010,  13.060,  13.110,  13.170,  13.200,  13.230,  13.600,  14.460, },
      {  4.000,   4.000,  10.000,  12.600,  12.770,  12.850,  12.890,  12.950,  12.990,  13.030,  13.040,  13.090,  13.140,  13.210,  13.250,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      };
  soc_min(temp_c):
    x={  5.000,  11.100,  20.000,  30.000,  40.000, };
    v={  0.100,   0.070,   0.050,   0.000,   0.200, };
  r(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  0.019,   0.015,   0.016,   0.009,   0.011,   0.017,   0.030, },
      {  0.014,   0.014,   0.010,   0.008,   0.010,   0.015,   0.015, },
      {  0.016,   0.016,   0.013,   0.005,   0.007,   0.010,   0.010, },
      };
  s(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      };
  r_max(soc):
    x={  0.000,   0.500,   0.700, };
    v={  0.700,   0.300,   0.200, };
  r_min(soc):
    x={  0.000,   0.500,   0.700, };
    v={ -0.700,  -0.500,  -0.300, };
M::Coulombs:
 coul_eff  0.99850
 delta_q      0.0, C
 delta_q_inf/delta_q_abs   3865.3 /  354347.6 =   0.0109, C
 delta_q_neg-366551.4 C, time_neg 194882.4 s
 delta_q_pos 294621.7 C, time_pos  57671.7 s
 mod Battleborn
 mod_code 0
 q 396093.6, C
 q_cap 396093.6, C
 q_cap_rat 390240.0, C
 q_cap_rat_scl 390240.0, C
 q_min   6931.6, C
 resetting 0
 sat 1
 soc  1.0000
 soc_inf  1.0098
 soc_min  0.0175
 t_last 26.5 dg C
 rated_t 25.0 dg C
 t_rlim  0.017 dg C / s
Coulombs (mod_code=0) Chemistry:
  dqdt  0.010, frac/dg C
  dv_min_abs  0.300, V
  dvoc  0.000, V
  dvoc_dt  0.004, V/dg C
  hys_cap   3600, F
  low_t  0.000, V
  low_voc  9.000, V
  v_sat 13.850, V
  vb_down  9.800, shutoff, V
  vb_down_sim  9.500, shutoff, V
  vb_off 10.000, shutoff, V (unused)
  vb_rising 10.300, turnon, V
  vb_rising_sim  9.750, turnon, V
  ChargeTransfer:
  c_sd 3.57e+05; EKF, farad
  r_0 0.011300, ohm
  r_ct 0.001000, ohm
  r_sd     70, EKF, ohm
  r_ss 0.012300, SS init, ohm
  tau_ct 83.000, s
  tau_sd  2.5e+07; EKF, s
  voc(t, soc):
    y={  5.000,  11.100,  20.000,  30.000,  40.000, };
    x={ -0.150,   0.000,   0.050,   0.100,   0.140,   0.170,   0.200,   0.250,   0.300,   0.400,   0.500,   0.600,   0.700,   0.800,   0.900,   0.990,   0.995,   1.000, };
    v={
      {  4.000,   4.000,   4.000,   4.000,  10.200,  11.700,  12.450,  12.700,  12.770,  12.900,  12.910,  12.980,  13.050,  13.110,  13.170,  13.220,  13.590,  14.450, },
      {  4.000,   4.000,   4.000,   9.500,  12.000,  12.500,  12.700,  12.800,  12.900,  12.960,  13.010,  13.060,  13.110,  13.170,  13.200,  13.230,  13.600,  14.460, },
      {  4.000,   4.000,  10.000,  12.600,  12.770,  12.850,  12.890,  12.950,  12.990,  13.030,  13.040,  13.090,  13.140,  13.210,  13.250,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      };
  soc_min(temp_c):
    x={  5.000,  11.100,  20.000,  30.000,  40.000, };
    v={  0.100,   0.070,   0.050,   0.000,   0.200, };
  r(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  0.019,   0.015,   0.016,   0.009,   0.011,   0.017,   0.030, },
      {  0.014,   0.014,   0.010,   0.008,   0.010,   0.015,   0.015, },
      {  0.016,   0.016,   0.013,   0.005,   0.007,   0.010,   0.010, },
      };
  s(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      };
  r_max(soc):
    x={  0.000,   0.500,   0.700, };
    v={  0.700,   0.300,   0.200, };
  r_min(soc):
    x={  0.000,   0.500,   0.700, };
    v={ -0.700,  -0.500,  -0.300, };
M::EKF_1x1:
In:
  z  =    13.8710, V
  R  =   0.250000
  Q  =   0.000002
  H  =     48.347
Out:
  x  =     0.9952, Vsoc (0-1 fraction)
  hx =    13.8627
  y  =     0.0083, V
  P  =   0.000015
  K  =   0.002831
  S  =   0.289646

modeling = 0
Ps;echo: Ps, 4
echo: Ps, 0

modeling=0
S:BS::Battery:
  bms_charging 1
  bms_off 0
  c_sd 3.57e+05, farad
  ds_voc_soc  0.000000, frac
  dt  0.100, s
  dv_dsoc122.999954, V/frac
  dv_dyn  0.070, V
  dv_hys  0.032, V
  dvoc_dt  0.004000, V/dg C
  ib  5.676, A
  r_0  0.011300, ohm
  r_ct  0.001000, ohm
  r_sd 70.000000, ohm
  soc  1.0000
 *sp_delt_q       0.0, C
 *sp_t_last      26.6, dg C
  sr  1.000, sclr
  tau_ct 83.000000, s (=1/R/C)
  tau_sd  2.5e+07, s
  temp_c 26.563, dg C
  vb 14.712, V
  voc 14.642, V
  voc_stat 14.610, V
  voltage_low 0, BMS will turn off
  vsat 13.806, V
 BS::BS:
  ib  5.676, A
  ib_fut  5.621, A
  ib_in  5.621, A
  ib_sat  0.500
  mod_cb 1
  mod_sat 0
  sat_cb_gn 1000.0
  sat_ib_max  5.621, A
  sat_ib_null  0.000, A
 *sp_s_cap_sim  1.000 Slr
Hysteresis:
  cap    3600.0, F
  disab 0
  dv_dot -0.000, V/s
  dv_hys  0.032, V, SH
  ib  5.621, A
  ibs  5.621, A
  ioc  5.871, A
  res0.0054, null Ohm
  res  0.005, ohm
  slr  1.000,
  soc  1.0000
  sp.hys_scale()  1.00 Slr
  tau      18.0, null, s
Chemistry:
  dqdt  0.010, frac/dg C
  dv_min_abs  0.300, V
  dvoc  0.000, V
  dvoc_dt  0.004, V/dg C
  hys_cap   3600, F
  low_t  0.000, V
  low_voc  9.000, V
  v_sat 13.850, V
  vb_down  9.800, shutoff, V
  vb_down_sim  9.500, shutoff, V
  vb_off 10.000, shutoff, V (unused)
  vb_rising 10.300, turnon, V
  vb_rising_sim  9.750, turnon, V
  ChargeTransfer:
  c_sd 3.57e+05; EKF, farad
  r_0 0.011300, ohm
  r_ct 0.001000, ohm
  r_sd     70, EKF, ohm
  r_ss 0.012300, SS init, ohm
  tau_ct 83.000, s
  tau_sd  2.5e+07; EKF, s
  voc(t, soc):
    y={  5.000,  11.100,  20.000,  30.000,  40.000, };
    x={ -0.150,   0.000,   0.050,   0.100,   0.140,   0.170,   0.200,   0.250,   0.300,   0.400,   0.500,   0.600,   0.700,   0.800,   0.900,   0.990,   0.995,   1.000, };
    v={
      {  4.000,   4.000,   4.000,   4.000,  10.200,  11.700,  12.450,  12.700,  12.770,  12.900,  12.910,  12.980,  13.050,  13.110,  13.170,  13.220,  13.590,  14.450, },
      {  4.000,   4.000,   4.000,   9.500,  12.000,  12.500,  12.700,  12.800,  12.900,  12.960,  13.010,  13.060,  13.110,  13.170,  13.200,  13.230,  13.600,  14.460, },
      {  4.000,   4.000,  10.000,  12.600,  12.770,  12.850,  12.890,  12.950,  12.990,  13.030,  13.040,  13.090,  13.140,  13.210,  13.250,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      };
  soc_min(temp_c):
    x={  5.000,  11.100,  20.000,  30.000,  40.000, };
    v={  0.100,   0.070,   0.050,   0.000,   0.200, };
  r(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  0.019,   0.015,   0.016,   0.009,   0.011,   0.017,   0.030, },
      {  0.014,   0.014,   0.010,   0.008,   0.010,   0.015,   0.015, },
      {  0.016,   0.016,   0.013,   0.005,   0.007,   0.010,   0.010, },
      };
  s(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      };
  r_max(soc):
    x={  0.000,   0.500,   0.700, };
    v={  0.700,   0.300,   0.200, };
  r_min(soc):
    x={  0.000,   0.500,   0.700, };
    v={ -0.700,  -0.500,  -0.300, };
S::Coulombs:
 coul_eff  0.99850
 delta_q      0.0, C
 delta_q_inf/delta_q_abs     -0.0 /      -0.0 =   1.0000, C
 delta_q_neg     -0.0 C, time_neg     -0.0 s
 delta_q_pos     -0.0 C, time_pos     -0.0 s
 mod Battleborn
 mod_code 0
 q 396337.5, C
 q_cap 396337.5, C
 q_cap_rat 390240.0, C
 q_cap_rat_scl 390240.0, C
 q_min   6812.1, C
 resetting 0
 sat 0
 soc  1.0000
 soc_inf -0.0000
 soc_min  0.0172
 t_last 26.6 dg C
 rated_t 25.0 dg C
 t_rlim  0.017 dg C / s
Coulombs (mod_code=0) Chemistry:
  dqdt  0.010, frac/dg C
  dv_min_abs  0.300, V
  dvoc  0.000, V
  dvoc_dt  0.004, V/dg C
  hys_cap   3600, F
  low_t  0.000, V
  low_voc  9.000, V
  v_sat 13.850, V
  vb_down  9.800, shutoff, V
  vb_down_sim  9.500, shutoff, V
  vb_off 10.000, shutoff, V (unused)
  vb_rising 10.300, turnon, V
  vb_rising_sim  9.750, turnon, V
  ChargeTransfer:
  c_sd 3.57e+05; EKF, farad
  r_0 0.011300, ohm
  r_ct 0.001000, ohm
  r_sd     70, EKF, ohm
  r_ss 0.012300, SS init, ohm
  tau_ct 83.000, s
  tau_sd  2.5e+07; EKF, s
  voc(t, soc):
    y={  5.000,  11.100,  20.000,  30.000,  40.000, };
    x={ -0.150,   0.000,   0.050,   0.100,   0.140,   0.170,   0.200,   0.250,   0.300,   0.400,   0.500,   0.600,   0.700,   0.800,   0.900,   0.990,   0.995,   1.000, };
    v={
      {  4.000,   4.000,   4.000,   4.000,  10.200,  11.700,  12.450,  12.700,  12.770,  12.900,  12.910,  12.980,  13.050,  13.110,  13.170,  13.220,  13.590,  14.450, },
      {  4.000,   4.000,   4.000,   9.500,  12.000,  12.500,  12.700,  12.800,  12.900,  12.960,  13.010,  13.060,  13.110,  13.170,  13.200,  13.230,  13.600,  14.460, },
      {  4.000,   4.000,  10.000,  12.600,  12.770,  12.850,  12.890,  12.950,  12.990,  13.030,  13.040,  13.090,  13.140,  13.210,  13.250,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      };
  soc_min(temp_c):
    x={  5.000,  11.100,  20.000,  30.000,  40.000, };
    v={  0.100,   0.070,   0.050,   0.000,   0.200, };
  r(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  0.019,   0.015,   0.016,   0.009,   0.011,   0.017,   0.030, },
      {  0.014,   0.014,   0.010,   0.008,   0.010,   0.015,   0.015, },
      {  0.016,   0.016,   0.013,   0.005,   0.007,   0.010,   0.010, },
      };
  s(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      };
  r_max(soc):
    x={  0.000,   0.500,   0.700, };
    v={  0.700,   0.300,   0.200, };
  r_min(soc):
    x={  0.000,   0.500,   0.700, };
    v={ -0.700,  -0.500,  -0.300, };
v5;echo: v5, 4
echo: v5, 0
sp.debug 0 to 5
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.55,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.52,   5.9,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.54,   5.8,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.56,   5.9,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.55,   5.9,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.56,   6.2,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.54,   5.4,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.55,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.55,   6.3,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.55,   6.1,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.57,   5.7,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.53,   6.0,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.55,   5.9,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.56,   5.7,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.57,   6.2,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.53,   5.9,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.53,   5.6,  108, -0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.53,   5.9,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.56,   5.6,  108,  0.0,108,
oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.55,   5.2,  108,  0.0,108,
v0oled_display: Tb, Vb, Ib, Ahrs_rem_ekf, tcharge, Ahrs_rem_wt,  27, 13.51,   5.8,  108,  0.0,108,
;echo: v0, 4
echo: v0, 0
sp.debug 5 to 0
Pn;echo: Pn, 4
echo: Pn, 0

n? 'h'
Pm;echo: Pm, 4
echo: Pm, 0

M:BM::Battery:
  bms_charging 1
  bms_off 0
  c_sd 3.57e+05, farad
  ds_voc_soc  0.000000, frac
  dt  0.100, s
  dv_dsoc 48.080540, V/frac
  dv_dyn  0.079, V
  dv_hys -0.300, V
  dvoc_dt  0.004000, V/dg C
  ib  6.497, A
  r_0  0.011300, ohm
  r_ct  0.001000, ohm
  r_sd 70.000000, ohm
  soc  1.0000
 *sp_delt_q       0.0, C
 *sp_t_last      26.6, dg C
  sr  1.000, sclr
  tau_ct 83.000000, s (=1/R/C)
  tau_sd  2.5e+07, s
  temp_c 26.598, dg C
  vb 13.607, V
  voc 13.528, V
  voc_stat 13.828, V
  voltage_low 0, BMS will turn off
  vsat 13.806, V
 BM::BM:
  ah_ekf_107.735; A-h
  ah_soc_108.258; A-h
  EKF_conv 0;
  dv_hys -0.300; V
  dv_hys_sim  0.031; V
  e_wrap  0.755; V
  q_ekf  394589.0; C
  soc_ekf  0.9952; frac
  tc -0.0; hr
  tc_ekf  0.1; hr
  voc_filt 13.543; V
  voc_soc 14.610; V
  voc_stat 13.828; V
  y_filt  0.018; Res EKF, V
 *sp_s_cap_mon  1.000 Slr
Hysteresis:
  cap    3600.0, F
  disab 0
  dv_dot  0.000, V/s
  dv_hys -0.300, V, SH
  ib  6.497, A
  ibs  6.497, A
  ioc-23.077, A
  res0.0130, null Ohm
  res  0.013, ohm
  slr  1.000,
  soc  1.0000
  sp.hys_scale()  1.00 Slr
  tau      18.0, null, s
Chemistry:
  dqdt  0.010, frac/dg C
  dv_min_abs  0.300, V
  dvoc  0.000, V
  dvoc_dt  0.004, V/dg C
  hys_cap   3600, F
  low_t  0.000, V
  low_voc  9.000, V
  v_sat 13.850, V
  vb_down  9.800, shutoff, V
  vb_down_sim  9.500, shutoff, V
  vb_off 10.000, shutoff, V (unused)
  vb_rising 10.300, turnon, V
  vb_rising_sim  9.750, turnon, V
  ChargeTransfer:
  c_sd 3.57e+05; EKF, farad
  r_0 0.011300, ohm
  r_ct 0.001000, ohm
  r_sd     70, EKF, ohm
  r_ss 0.012300, SS init, ohm
  tau_ct 83.000, s
  tau_sd  2.5e+07; EKF, s
  voc(t, soc):
    y={  5.000,  11.100,  20.000,  30.000,  40.000, };
    x={ -0.150,   0.000,   0.050,   0.100,   0.140,   0.170,   0.200,   0.250,   0.300,   0.400,   0.500,   0.600,   0.700,   0.800,   0.900,   0.990,   0.995,   1.000, };
    v={
      {  4.000,   4.000,   4.000,   4.000,  10.200,  11.700,  12.450,  12.700,  12.770,  12.900,  12.910,  12.980,  13.050,  13.110,  13.170,  13.220,  13.590,  14.450, },
      {  4.000,   4.000,   4.000,   9.500,  12.000,  12.500,  12.700,  12.800,  12.900,  12.960,  13.010,  13.060,  13.110,  13.170,  13.200,  13.230,  13.600,  14.460, },
      {  4.000,   4.000,  10.000,  12.600,  12.770,  12.850,  12.890,  12.950,  12.990,  13.030,  13.040,  13.090,  13.140,  13.210,  13.250,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      };
  soc_min(temp_c):
    x={  5.000,  11.100,  20.000,  30.000,  40.000, };
    v={  0.100,   0.070,   0.050,   0.000,   0.200, };
  r(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  0.019,   0.015,   0.016,   0.009,   0.011,   0.017,   0.030, },
      {  0.014,   0.014,   0.010,   0.008,   0.010,   0.015,   0.015, },
      {  0.016,   0.016,   0.013,   0.005,   0.007,   0.010,   0.010, },
      };
  s(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      };
  r_max(soc):
    x={  0.000,   0.500,   0.700, };
    v={  0.700,   0.300,   0.200, };
  r_min(soc):
    x={  0.000,   0.500,   0.700, };
    v={ -0.700,  -0.500,  -0.300, };
M::Coulombs:
 coul_eff  0.99850
 delta_q      0.0, C
 delta_q_inf/delta_q_abs   6059.8 /  355794.6 =   0.0170, C
 delta_q_neg-366901.1 C, time_neg 195324.6 s
 delta_q_pos 294621.7 C, time_pos  57671.7 s
 mod Battleborn
 mod_code 0
 q 396474.6, C
 q_cap 396474.6, C
 q_cap_rat 390240.0, C
 q_cap_rat_scl 390240.0, C
 q_min   6744.8, C
 resetting 0
 sat 1
 soc  1.0000
 soc_inf  1.0153
 soc_min  0.0170
 t_last 26.6 dg C
 rated_t 25.0 dg C
 t_rlim  0.017 dg C / s
Coulombs (mod_code=0) Chemistry:
  dqdt  0.010, frac/dg C
  dv_min_abs  0.300, V
  dvoc  0.000, V
  dvoc_dt  0.004, V/dg C
  hys_cap   3600, F
  low_t  0.000, V
  low_voc  9.000, V
  v_sat 13.850, V
  vb_down  9.800, shutoff, V
  vb_down_sim  9.500, shutoff, V
  vb_off 10.000, shutoff, V (unused)
  vb_rising 10.300, turnon, V
  vb_rising_sim  9.750, turnon, V
  ChargeTransfer:
  c_sd 3.57e+05; EKF, farad
  r_0 0.011300, ohm
  r_ct 0.001000, ohm
  r_sd     70, EKF, ohm
  r_ss 0.012300, SS init, ohm
  tau_ct 83.000, s
  tau_sd  2.5e+07; EKF, s
  voc(t, soc):
    y={  5.000,  11.100,  20.000,  30.000,  40.000, };
    x={ -0.150,   0.000,   0.050,   0.100,   0.140,   0.170,   0.200,   0.250,   0.300,   0.400,   0.500,   0.600,   0.700,   0.800,   0.900,   0.990,   0.995,   1.000, };
    v={
      {  4.000,   4.000,   4.000,   4.000,  10.200,  11.700,  12.450,  12.700,  12.770,  12.900,  12.910,  12.980,  13.050,  13.110,  13.170,  13.220,  13.590,  14.450, },
      {  4.000,   4.000,   4.000,   9.500,  12.000,  12.500,  12.700,  12.800,  12.900,  12.960,  13.010,  13.060,  13.110,  13.170,  13.200,  13.230,  13.600,  14.460, },
      {  4.000,   4.000,  10.000,  12.600,  12.770,  12.850,  12.890,  12.950,  12.990,  13.030,  13.040,  13.090,  13.140,  13.210,  13.250,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      };
  soc_min(temp_c):
    x={  5.000,  11.100,  20.000,  30.000,  40.000, };
    v={  0.100,   0.070,   0.050,   0.000,   0.200, };
  r(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  0.019,   0.015,   0.016,   0.009,   0.011,   0.017,   0.030, },
      {  0.014,   0.014,   0.010,   0.008,   0.010,   0.015,   0.015, },
      {  0.016,   0.016,   0.013,   0.005,   0.007,   0.010,   0.010, },
      };
  s(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      };
  r_max(soc):
    x={  0.000,   0.500,   0.700, };
    v={  0.700,   0.300,   0.200, };
  r_min(soc):
    x={  0.000,   0.500,   0.700, };
    v={ -0.700,  -0.500,  -0.300, };
M::EKF_1x1:
In:
  z  =    13.8784, V
  R  =   0.250000
  Q  =   0.000002
  H  =     48.081
Out:
  x  =     0.9952, Vsoc (0-1 fraction)
  hx =    13.8601
  y  =     0.0183, V
  P  =   0.000015
  K  =   0.002798
  S  =   0.288865

modeling = 0
Pm;echo: Pm, 4
echo: Pm, 0

M:BM::Battery:
  bms_charging 1
  bms_off 0
  c_sd 3.57e+05, farad
  ds_voc_soc  0.000000, frac
  dt  0.100, s
  dv_dsoc 48.439789, V/frac
  dv_dyn  0.069, V
  dv_hys -0.300, V
  dvoc_dt  0.004000, V/dg C
  ib  5.621, A
  r_0  0.011300, ohm
  r_ct  0.001000, ohm
  r_sd 70.000000, ohm
  soc  1.0000
 *sp_delt_q       0.0, C
 *sp_t_last      26.6, dg C
  sr  1.000, sclr
  tau_ct 83.000000, s (=1/R/C)
  tau_sd  2.5e+07, s
  temp_c 26.626, dg C
  vb 13.602, V
  voc 13.533, V
  voc_stat 13.833, V
  voltage_low 0, BMS will turn off
  vsat 13.807, V
 BM::BM:
  ah_ekf_107.780; A-h
  ah_soc_108.304; A-h
  EKF_conv 0;
  dv_hys -0.300; V
  dv_hys_sim  0.031; V
  e_wrap  0.763; V
  q_ekf  394697.1; C
  soc_ekf  0.9952; frac
  tc -0.0; hr
  tc_ekf  0.1; hr
  voc_filt 13.543; V
  voc_soc 14.610; V
  voc_stat 13.833; V
  y_filt  0.009; Res EKF, V
 *sp_s_cap_mon  1.000 Slr
Hysteresis:
  cap    3600.0, F
  disab 0
  dv_dot  0.000, V/s
  dv_hys -0.300, V, SH
  ib  5.621, A
  ibs  5.621, A
  ioc-23.077, A
  res0.0130, null Ohm
  res  0.013, ohm
  slr  1.000,
  soc  1.0000
  sp.hys_scale()  1.00 Slr
  tau      18.0, null, s
Chemistry:
  dqdt  0.010, frac/dg C
  dv_min_abs  0.300, V
  dvoc  0.000, V
  dvoc_dt  0.004, V/dg C
  hys_cap   3600, F
  low_t  0.000, V
  low_voc  9.000, V
  v_sat 13.850, V
  vb_down  9.800, shutoff, V
  vb_down_sim  9.500, shutoff, V
  vb_off 10.000, shutoff, V (unused)
  vb_rising 10.300, turnon, V
  vb_rising_sim  9.750, turnon, V
  ChargeTransfer:
  c_sd 3.57e+05; EKF, farad
  r_0 0.011300, ohm
  r_ct 0.001000, ohm
  r_sd     70, EKF, ohm
  r_ss 0.012300, SS init, ohm
  tau_ct 83.000, s
  tau_sd  2.5e+07; EKF, s
  voc(t, soc):
    y={  5.000,  11.100,  20.000,  30.000,  40.000, };
    x={ -0.150,   0.000,   0.050,   0.100,   0.140,   0.170,   0.200,   0.250,   0.300,   0.400,   0.500,   0.600,   0.700,   0.800,   0.900,   0.990,   0.995,   1.000, };
    v={
      {  4.000,   4.000,   4.000,   4.000,  10.200,  11.700,  12.450,  12.700,  12.770,  12.900,  12.910,  12.980,  13.050,  13.110,  13.170,  13.220,  13.590,  14.450, },
      {  4.000,   4.000,   4.000,   9.500,  12.000,  12.500,  12.700,  12.800,  12.900,  12.960,  13.010,  13.060,  13.110,  13.170,  13.200,  13.230,  13.600,  14.460, },
      {  4.000,   4.000,  10.000,  12.600,  12.770,  12.850,  12.890,  12.950,  12.990,  13.030,  13.040,  13.090,  13.140,  13.210,  13.250,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      };
  soc_min(temp_c):
    x={  5.000,  11.100,  20.000,  30.000,  40.000, };
    v={  0.100,   0.070,   0.050,   0.000,   0.200, };
  r(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  0.019,   0.015,   0.016,   0.009,   0.011,   0.017,   0.030, },
      {  0.014,   0.014,   0.010,   0.008,   0.010,   0.015,   0.015, },
      {  0.016,   0.016,   0.013,   0.005,   0.007,   0.010,   0.010, },
      };
  s(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      };
  r_max(soc):
    x={  0.000,   0.500,   0.700, };
    v={  0.700,   0.300,   0.200, };
  r_min(soc):
    x={  0.000,   0.500,   0.700, };
    v={ -0.700,  -0.500,  -0.300, };
M::Coulombs:
 coul_eff  0.99850
 delta_q      0.0, C
 delta_q_inf/delta_q_abs   6317.3 /  356022.0 =   0.0177, C
 delta_q_neg-366999.8 C, time_neg 195388.2 s
 delta_q_pos 294621.7 C, time_pos  57671.7 s
 mod Battleborn
 mod_code 0
 q 396584.7, C
 q_cap 396584.7, C
 q_cap_rat 390240.0, C
 q_cap_rat_scl 390240.0, C
 q_min   6690.7, C
 resetting 0
 sat 1
 soc  1.0000
 soc_inf  1.0159
 soc_min  0.0169
 t_last 26.6 dg C
 rated_t 25.0 dg C
 t_rlim  0.017 dg C / s
Coulombs (mod_code=0) Chemistry:
  dqdt  0.010, frac/dg C
  dv_min_abs  0.300, V
  dvoc  0.000, V
  dvoc_dt  0.004, V/dg C
  hys_cap   3600, F
  low_t  0.000, V
  low_voc  9.000, V
  v_sat 13.850, V
  vb_down  9.800, shutoff, V
  vb_down_sim  9.500, shutoff, V
  vb_off 10.000, shutoff, V (unused)
  vb_rising 10.300, turnon, V
  vb_rising_sim  9.750, turnon, V
  ChargeTransfer:
  c_sd 3.57e+05; EKF, farad
  r_0 0.011300, ohm
  r_ct 0.001000, ohm
  r_sd     70, EKF, ohm
  r_ss 0.012300, SS init, ohm
  tau_ct 83.000, s
  tau_sd  2.5e+07; EKF, s
  voc(t, soc):
    y={  5.000,  11.100,  20.000,  30.000,  40.000, };
    x={ -0.150,   0.000,   0.050,   0.100,   0.140,   0.170,   0.200,   0.250,   0.300,   0.400,   0.500,   0.600,   0.700,   0.800,   0.900,   0.990,   0.995,   1.000, };
    v={
      {  4.000,   4.000,   4.000,   4.000,  10.200,  11.700,  12.450,  12.700,  12.770,  12.900,  12.910,  12.980,  13.050,  13.110,  13.170,  13.220,  13.590,  14.450, },
      {  4.000,   4.000,   4.000,   9.500,  12.000,  12.500,  12.700,  12.800,  12.900,  12.960,  13.010,  13.060,  13.110,  13.170,  13.200,  13.230,  13.600,  14.460, },
      {  4.000,   4.000,  10.000,  12.600,  12.770,  12.850,  12.890,  12.950,  12.990,  13.030,  13.040,  13.090,  13.140,  13.210,  13.250,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      };
  soc_min(temp_c):
    x={  5.000,  11.100,  20.000,  30.000,  40.000, };
    v={  0.100,   0.070,   0.050,   0.000,   0.200, };
  r(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  0.019,   0.015,   0.016,   0.009,   0.011,   0.017,   0.030, },
      {  0.014,   0.014,   0.010,   0.008,   0.010,   0.015,   0.015, },
      {  0.016,   0.016,   0.013,   0.005,   0.007,   0.010,   0.010, },
      };
  s(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      };
  r_max(soc):
    x={  0.000,   0.500,   0.700, };
    v={  0.700,   0.300,   0.200, };
  r_min(soc):
    x={  0.000,   0.500,   0.700, };
    v={ -0.700,  -0.500,  -0.300, };
M::EKF_1x1:
In:
  z  =    13.8723, V
  R  =   0.250000
  Q  =   0.000002
  H  =     48.440
Out:
  x  =     0.9952, Vsoc (0-1 fraction)
  hx =    13.8637
  y  =     0.0086, V
  P  =   0.000015
  K  =   0.002838
  S  =   0.289850

modeling = 0
Pm;echo: Pm, 4
echo: Pm, 0

M:BM::Battery:
  bms_charging 1
  bms_off 0
  c_sd 3.57e+05, farad
  ds_voc_soc  0.000000, frac
  dt  0.100, s
  dv_dsoc 43.724632, V/frac
  dv_dyn  0.074, V
  dv_hys -0.300, V
  dvoc_dt  0.004000, V/dg C
  ib  6.059, A
  r_0  0.011300, ohm
  r_ct  0.001000, ohm
  r_sd 70.000000, ohm
  soc  1.0000
 *sp_delt_q       0.0, C
 *sp_t_last      26.6, dg C
  sr  1.000, sclr
  tau_ct 83.000000, s (=1/R/C)
  tau_sd  2.5e+07, s
  temp_c 26.637, dg C
  vb 13.637, V
  voc 13.562, V
  voc_stat 13.862, V
  voltage_low 0, BMS will turn off
  vsat 13.807, V
 BM::BM:
  ah_ekf_107.766; A-h
  ah_soc_108.322; A-h
  EKF_conv 0;
  dv_hys -0.300; V
  dv_hys_sim  0.032; V
  e_wrap  0.771; V
  q_ekf  394594.6; C
  soc_ekf  0.9949; frac
  tc  0.0; hr
  tc_ekf  0.1; hr
  voc_filt 13.550; V
  voc_soc 14.610; V
  voc_stat 13.862; V
  y_filt  0.037; Res EKF, V
 *sp_s_cap_mon  1.000 Slr
Hysteresis:
  cap    3600.0, F
  disab 0
  dv_dot  0.000, V/s
  dv_hys -0.300, V, SH
  ib  6.059, A
  ibs  6.059, A
  ioc-23.077, A
  res0.0130, null Ohm
  res  0.013, ohm
  slr  1.000,
  soc  1.0000
  sp.hys_scale()  1.00 Slr
  tau      18.0, null, s
Chemistry:
  dqdt  0.010, frac/dg C
  dv_min_abs  0.300, V
  dvoc  0.000, V
  dvoc_dt  0.004, V/dg C
  hys_cap   3600, F
  low_t  0.000, V
  low_voc  9.000, V
  v_sat 13.850, V
  vb_down  9.800, shutoff, V
  vb_down_sim  9.500, shutoff, V
  vb_off 10.000, shutoff, V (unused)
  vb_rising 10.300, turnon, V
  vb_rising_sim  9.750, turnon, V
  ChargeTransfer:
  c_sd 3.57e+05; EKF, farad
  r_0 0.011300, ohm
  r_ct 0.001000, ohm
  r_sd     70, EKF, ohm
  r_ss 0.012300, SS init, ohm
  tau_ct 83.000, s
  tau_sd  2.5e+07; EKF, s
  voc(t, soc):
    y={  5.000,  11.100,  20.000,  30.000,  40.000, };
    x={ -0.150,   0.000,   0.050,   0.100,   0.140,   0.170,   0.200,   0.250,   0.300,   0.400,   0.500,   0.600,   0.700,   0.800,   0.900,   0.990,   0.995,   1.000, };
    v={
      {  4.000,   4.000,   4.000,   4.000,  10.200,  11.700,  12.450,  12.700,  12.770,  12.900,  12.910,  12.980,  13.050,  13.110,  13.170,  13.220,  13.590,  14.450, },
      {  4.000,   4.000,   4.000,   9.500,  12.000,  12.500,  12.700,  12.800,  12.900,  12.960,  13.010,  13.060,  13.110,  13.170,  13.200,  13.230,  13.600,  14.460, },
      {  4.000,   4.000,  10.000,  12.600,  12.770,  12.850,  12.890,  12.950,  12.990,  13.030,  13.040,  13.090,  13.140,  13.210,  13.250,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      };
  soc_min(temp_c):
    x={  5.000,  11.100,  20.000,  30.000,  40.000, };
    v={  0.100,   0.070,   0.050,   0.000,   0.200, };
  r(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  0.019,   0.015,   0.016,   0.009,   0.011,   0.017,   0.030, },
      {  0.014,   0.014,   0.010,   0.008,   0.010,   0.015,   0.015, },
      {  0.016,   0.016,   0.013,   0.005,   0.007,   0.010,   0.010, },
      };
  s(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      };
  r_max(soc):
    x={  0.000,   0.500,   0.700, };
    v={  0.700,   0.300,   0.200, };
  r_min(soc):
    x={  0.000,   0.500,   0.700, };
    v={ -0.700,  -0.500,  -0.300, };
M::Coulombs:
 coul_eff  0.99850
 delta_q      0.0, C
 delta_q_inf/delta_q_abs   7736.4 /  356775.1 =   0.0217, C
 delta_q_neg-367043.4 C, time_neg 195639.0 s
 delta_q_pos 294621.7 C, time_pos  57671.7 s
 mod Battleborn
 mod_code 0
 q 396628.8, C
 q_cap 396628.8, C
 q_cap_rat 390240.0, C
 q_cap_rat_scl 390240.0, C
 q_min   6669.0, C
 resetting 0
 sat 1
 soc  1.0000
 soc_inf  1.0195
 soc_min  0.0168
 t_last 26.6 dg C
 rated_t 25.0 dg C
 t_rlim  0.017 dg C / s
Coulombs (mod_code=0) Chemistry:
  dqdt  0.010, frac/dg C
  dv_min_abs  0.300, V
  dvoc  0.000, V
  dvoc_dt  0.004, V/dg C
  hys_cap   3600, F
  low_t  0.000, V
  low_voc  9.000, V
  v_sat 13.850, V
  vb_down  9.800, shutoff, V
  vb_down_sim  9.500, shutoff, V
  vb_off 10.000, shutoff, V (unused)
  vb_rising 10.300, turnon, V
  vb_rising_sim  9.750, turnon, V
  ChargeTransfer:
  c_sd 3.57e+05; EKF, farad
  r_0 0.011300, ohm
  r_ct 0.001000, ohm
  r_sd     70, EKF, ohm
  r_ss 0.012300, SS init, ohm
  tau_ct 83.000, s
  tau_sd  2.5e+07; EKF, s
  voc(t, soc):
    y={  5.000,  11.100,  20.000,  30.000,  40.000, };
    x={ -0.150,   0.000,   0.050,   0.100,   0.140,   0.170,   0.200,   0.250,   0.300,   0.400,   0.500,   0.600,   0.700,   0.800,   0.900,   0.990,   0.995,   1.000, };
    v={
      {  4.000,   4.000,   4.000,   4.000,  10.200,  11.700,  12.450,  12.700,  12.770,  12.900,  12.910,  12.980,  13.050,  13.110,  13.170,  13.220,  13.590,  14.450, },
      {  4.000,   4.000,   4.000,   9.500,  12.000,  12.500,  12.700,  12.800,  12.900,  12.960,  13.010,  13.060,  13.110,  13.170,  13.200,  13.230,  13.600,  14.460, },
      {  4.000,   4.000,  10.000,  12.600,  12.770,  12.850,  12.890,  12.950,  12.990,  13.030,  13.040,  13.090,  13.140,  13.210,  13.250,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      {  4.000,   4.000,  12.000,  12.650,  12.750,  12.800,  12.850,  12.950,  13.000,  13.080,  13.120,  13.160,  13.200,  13.240,  13.260,  13.270,  13.720,  14.500, },
      };
  soc_min(temp_c):
    x={  5.000,  11.100,  20.000,  30.000,  40.000, };
    v={  0.100,   0.070,   0.050,   0.000,   0.200, };
  r(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  0.019,   0.015,   0.016,   0.009,   0.011,   0.017,   0.030, },
      {  0.014,   0.014,   0.010,   0.008,   0.010,   0.015,   0.015, },
      {  0.016,   0.016,   0.013,   0.005,   0.007,   0.010,   0.010, },
      };
  s(soc, dv):
    y={  0.000,   0.500,   0.700, };
    x={ -0.700,  -0.500,  -0.300,   0.000,   0.150,   0.300,   0.700, };
    v={
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      {  1.000,   1.000,   1.000,   1.000,   1.000,   1.000,   1.000, },
      };
  r_max(soc):
    x={  0.000,   0.500,   0.700, };
    v={  0.700,   0.300,   0.200, };
  r_min(soc):
    x={  0.000,   0.500,   0.700, };
    v={ -0.700,  -0.500,  -0.300, };
M::EKF_1x1:
In:
  z  =    13.8539, V
  R  =   0.250000
  Q  =   0.000002
  H  =     43.725
Out:
  x  =     0.9949, Vsoc (0-1 fraction)
  hx =    13.8165
  y  =     0.0374, V
  P  =   0.000015
  K  =   0.002648
  S  =   0.282741

modeling = 0
