=~=~=~=~=~=~=~=~=~=~=~= PuTTY log 2023.06.24 10:16:15 =~=~=~=~=~=~=~=~=~=~=~=
h;vecho: h, 4
1;echo: vh, 0
sp.debug 0 to 0
echo: 1, 4
echo: 1, 0
1 ? 'h'
v1;echo: v1, 4
echo: v1, 0
sp.debug 0 to 1
unit,               hm,                  cTime,       dt,       chm,qcrs,sat,sel,mod,bmso, Tb,  vb,  ib,   ib_charge, ioc, voc_soc,    vsat,dv_dyn,voc_stat,voc_ekf,     y_ekf,    soc_s,soc_ekf,soc,soc_min,
g20230530_pro2p2_bb, 1970-01-01T00:09:55,       617.061, 2.432,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49925,   0.000753, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:10:06,       628.320, 2.315,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49925,   0.000753, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:10:17,       639.407, 2.315,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:10:28,       650.603, 2.315,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:10:39,       661.689, 2.315,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:10:50,       672.776, 2.316,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:11:01,       683.864, 2.315,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:11:12,       694.952, 2.316,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
Dp1;echo: Dp1, 4
echo: Dp1, 0
p ? 'h'
g20230530_pro2p2_bb, 1970-01-01T00:11:23,       706.040, 2.318,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:11:34,       717.135, 2.316,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
h;echo: h, 4
echo: h, 0


Help menu.  End entry with ';'.  SRAM='*'.  May omit '='

b<?>   Manage fault buffer
  bd= dump fault buffer
  bh= reset history buffer
  br= reset fault buffer
  bR= reset all buffers

B<?> Battery e.g.:
 *Bm=  0.  Mon chem 0='BB', 1='CH' [0]
 *Bs=  0.  Sim chem 0='BB', 1='CH' [0]
 *BP=  1.00.  parallel in bank [1.00]'
 *BS=  1.00.  series in bank [1.00]'

c  clear talk, esp '-c;'

C<?> Chg SOC e.g.:
  Ca=  all - '(0-1.1)'
  Cm=  model (& ekf if mod)- '(0-1.1)'

D/S<?> Adj e.g.:
 *DA=  0.500: delta amp, A [ 0.500]
 *DB=  0.500: delta noa, A [ 0.500]
 *Di=  0.000: delta all, A [ 0.000]
 *DI=  0.000: delta all no reset, A [ 0.000]
 *Dc=  8.000: delta, V [ 8.000]
  DE= 20: eframe mult Dr [20]
  DP=  4: print mult Dr [4]
  Dr=  100: minor frame, ms [100]
  Ds=  0.00: d_soc to Sim.voc-soc, fraction [0]
 *Dt=  0.000: delta hdwe, deg C [ 0.000]
  D^=  0.000: delta model, deg C [ 0.000]
  Dv=  0.00: volt fault inj, V [0]
  Dw=  0.00: Tab adj, V [.01]
  DT=  0.000: noise mod, deg C pk-pk [ 0.000]
  DV=  0.000: noise mod, V pk-pk [ 0.000]
  DM=  0.000: amp noise mod, A pk-pk [ 0.000]
  DN=  0.000: noa noise mod, A pk-pk [ 0.000]
 *SA=  0.990: scale amp [ 0.990]
 *SB=  0.980: scale noa [ 0.980]
 *SG=  1.000/ 1.000: sp. scale shunt gains [1]
 *Sh=  1.000: hys sclr [ 1.00]
  SH= -0.300: hys states [0]
 *Sq=  1.00: sp. Scalar cap sim
 *SQ=  1.00: sp. Scalar cap mon
  Sr=  1.00: Scalar res sim
 *Sk=  1.00: Sat mod ctbk sclr
 *SV=  1.004: scale vb sen [ 1.004]

F<?>   Faults
  Fc=  1.000: sclr cc_diff thr ^ [1]
  Fd=  1.000: sclr ib_diff thr ^ [1]
  Ff= 0: faults faked (ignored)[0]
  Fi=  1.000: sclr e_wrap_hi thr ^ [1]
  Fo=  1.000: sclr e_wrap_lo thr ^ [1]
  Fq=  1.000: sclr ib_quiet thr v [1]
  FI=  0: disab Ib rng
  FT=  0: disab Tb rng
  FV=  0: disab Vb rng

H<?>   Manage history
  Hd= dump summ log
  HR= reset summ log
  Hs= save and print log

P<?>   Print values
  Pa= all
  Pe= ekf
  Pf= faults
  Pm= Mon
  PM= amp shunt
  PN= noa shunt
  Pr= retained and command
  Ps= Sim
  Px= ib select
  Pv= vb details

Q      vital stats

R<?>   Reset
  Rb= batteries to present inputs
  Rf= fault logic latches
  Ri= infinite counter
  Rr= saturate Mon and equalize Sim & Mon
  RR= DEPLOY
  Rs= small.  Reinitialize filters
  RS= SavedPars: Reinitialize saved

s  curr select mode (-1=noa, 0=auto, 1=amp) = 0
 
*U= 706: Unix time [auto when wifi]

v= 1: verbosity, -128 - +128. [4]
  -<>: Negative - Arduino plot compatible
  v-2: ADS counts for throughput meas
   v1: GP
   v2: GP, Sim & Sel
   v3: EKF
   v4: GP, Sim, Sel, & EKF
   v5: OLED display
  v12: EKF
 v-13: ib_dscn
  v14: vshunt and Ib raw
  v15: vb raw
 v-23: Vb_hdwe_ac
 v-24: Vb_hdwe_ac, Ib_hdwe
  v75: voc_low check mod
  v76: vb model
  v78: Batt model sat
  v79: sat_ib model
  v99: calibration

V<?> - VOC(SOC) curve deltas
 VM=  0.000: Mon vsoc out, V [0]
 VS=  0.000: Sim vsoc out, V [0]
 Vm=  0.000: Mon soc in [0]
 Vs=  0.000: Sim soc in[0]

W<?> - iters to wait

X<?> - Test Mode.   For example:
 Xd=  0,   dc-dc charger on [0]
 Xm=  247,   modeling bitmap [0b00000000]
      0x128=1<<7 ib_noa_dscn = 1
      0x64 =1<<6 ib_amp_dscn = 1
      0x32 =1<<5 vb_dscn = 1
      0x16 =1<<4 temp_dscn = 1
      0x8  =1<<3 tweak_test = 0
      0x4  =1<<2 current = 1
      0x2  =1<<1 voltage = 1
      0x1  =1<<0 temp = 1
 Xa=  0.000: Inj amp A pk (0-18.3) [0]
 Xb=  0.000: Inj bias A [0]
 Xf=  0.000: Inj freq Hz (0-2) [0]
 Xt=  0: Inj 'n'=none(0) 's'=sin(1) 'q'=square(2) 't'=tri(3) biases(4,5,6) 'o'=cos(8))
 Xp= <?>, scripted tests...
  Xp-1: Off, modeling false
  Xp0: reset tests
  Xp2: -0.4C soft disch, reset xp0 or Di0
  Xp3: +0.4C soft chg
  Xp4: -1C soft disch, reset xp0 or Di0
  Xp5: +1C soft chg
  Xp6: +/-500 A pulse EKF
  Xp7: +/-500 A pulse SS
  Xp10:tweak cycle test
  Xp11:slow cycle test
  Xp12:slow half cycle reg test
  Xp20:collect fast data
  Xp21:collect slow data
 XC=  0.000 cycles inj
 XR  RUN inj
 XS  STOP inj
 Xs= 1.00 scalar on T_SAT
 XW=    0.00 s wait start inj
 XT=    0.00 s tail end inj
 Xu= 0 T=ignore Tb read
 Xv= 1.00 scale Tb 1-wire stale persist

*Xx<> = SRAM saved

urgency of cmds: -=ASAP,*=SOON, '' or +=QUEUE
g20230530_pro2p2_bb, 1970-01-01T00:11:46,       728.335, 2.319,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:11:57,       740.425, 2.315,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
DP1;echo: DP1, 4
echo: DP1, 0
Print int 4 to 1
g20230530_pro2p2_bb, 1970-01-01T00:12:08,       751.510, 2.320,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:12:11,       753.830, 2.323,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:12:15,       756.153, 4.140,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:12:17,       760.293, 2.380,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:12:19,       762.673, 2.381,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:12:22,       765.054, 2.380,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:12:26,       767.434, 4.141,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:12:28,       771.575, 2.380,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:12:30,       773.955, 2.381,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:12:33,       776.336, 2.381,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:12:37,       778.717, 4.141,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:12:39,       782.858, 2.381,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:12:42,       785.239, 2.380,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:12:44,       787.619, 2.380,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:12:48,       789.999, 4.142,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:12:50,       794.141, 2.380,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:12:52,       796.521, 2.384,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
v0;g20230530_pro2p2_bb, 1970-01-01T00:12:55,       798.905, 2.380,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
g20230530_pro2p2_bb, 1970-01-01T00:12:59,       801.285, 4.250,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49926,   0.000744, 1.00000,1.00000,1.00000,0.02500,
echo: v0, 4
g20230530_pro2p2_bb, 1970-01-01T00:13:01,       805.535, 2.381,   0,  360000, 1,  0,  247,  0, 25.0,14.200,     0.000,     0.000,   -23.077,14.50000,    13.80000,0.00000,14.50000,14.49925,   0.000753, 1.00000,1.00000,1.00000,0.02500,
echo: v0, 0
sp.debug 1 to 0
